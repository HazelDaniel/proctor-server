type ToolInstance {
  id: ID!
  toolType: String!
  docId: ID!
  createdAt: String!
}

type ValidationError {
  path: String!
  message: String!
}

type ValidationResult {
  valid: Boolean!
  errors: [ValidationError!]!
}

type CreateToolInstanceResult {
  instance: ToolInstance!
}

type User {
  id: ID!
  email: String!
}

type AuthResult {
  token: String!
  user: User!
}

type Query {
  toolInstances(toolType: String): [ToolInstance!]!
}

type Mutation {
  createToolInstance(toolType: String!): CreateToolInstanceResult!
  validateToolInstance(instanceId: ID!): ValidationResult!
  compileToolInstance(instanceId: ID!): String
  requestLogin(email: String!): Boolean!
  verifyLogin(email: String!, token: String!): AuthResult!
}

extend type Mutation {
  addToolInstanceMember(instanceId: ID!, userId: String!): Boolean!
}